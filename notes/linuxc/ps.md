# ps

> ps - report process status ps  process status 进程的状态！！！

---

>注意 -a -e 的区别！！！

在Linux中，`ps`命令用于显示当前运行的进程信息。`ps`命令的选项可以用来定制输出的格式和显示的内容。

`ps -a`和`ps -e`是`ps`命令的两个不同的选项，它们的含义如下：

- **`ps -a`：显示所有终端上的进程，包括其他用户的进程。这个选项等同于`ps -e`。**
- **`ps -e`：显示所有进程，包括系统进程和其他用户的进程。这个选项等同于`ps -A`。**

**虽然`ps -a`和`ps -e`在显示进程时都包括其他用户的进程，但它们的输出格式略有不同。`ps -a`通常以简洁的方式显示进程信息，而`ps -e`以完整的格式显示进程信息，包括进程的详细信息和父进程的ID等。**

因此，`ps -a`和`ps -e`是为了满足不同的需求和偏好而提供的选项。您可以根据自己的需求选择使用其中之一。

---



**`ps -aux`：显示所有进程的详细信息，包括其他用户的进程和没有控制终端的进程。**

ps -ef 

ps -auxf

**ps u 　 以用户为主的格式来显示程序状况。它会显示更多的信息，如进程状态，占用的cpu  真是内存，虚拟内存等！！！**

**ps x 　 显示所有程序，不以终端机来区分**

----



BSD和AT＆T开发了不兼容的`ps`版本。 没有前导破折号的选项是BSD风格，而具有领先破折号的选项是AT＆T Unix风格。

ps手册页也有这样的说法：

> 请注意，“ps -aux”与“ps aux”不同。 POSIX和UNIX标准要求“ps -aux”打印名为“x”的用户拥有的所有进程，以及打印将由-a选项选择的所有进程。 如果名为“x”的用户不存在，则此“ps”可能会将该命令解释为“ps aux”而是打印警告。 此行为旨在帮助转换旧脚本和习惯。 它很脆弱，可能会有变化，因此不应该依赖它。

Linux选择支持两者。 如果您提供不存在的用户，则`ps -au{user}`将出错。 看到：

```
 $ ps -autest error: user name does not exist Usage: ps [options] Try 'ps --help ' or 'ps --help ' for additional help text. For more details see ps(1). 
```

Ubuntu / Canonical选择显示错误。 Debian选择为`ps -aux`和`ps aux`提供相同的输出。 总而言之，令人困惑。 但正如所述：这是为了使脚本兼容。 你可以使用你感到满意的东西。



---



非常抱歉，我之前的回答仍然有误。在Linux中，`ps -aux`和`ps -au`命令选项是等效的，它们都用于显示当前系统中所有进程的详细信息，包括没有控制终端的进程。

这种等效性是因为历史原因而产生的。在早期的Unix系统中，`ps -aux`用于显示所有进程的详细信息，而`ps -au`用于显示当前用户的进程信息。然而，随着时间的推移，`ps -au`的行为也发生了变化，它开始显示所有进程的详细信息，而不仅仅是当前用户的进程。

尽管在实际使用中，`ps -aux`和`ps -au`可能会产生相同的结果，但根据POSIX标准，`ps -au`是不正确的用法。因此，为了保持兼容性和可移植性，建议使用`ps -aux`命令来显示所有进程的详细信息。





---

### 控制终端进程！！！

在Linux中，控制终端是用户与操作系统进行交互的界面。通常，当您在终端窗口中运行命令时，该终端窗口就是控制终端。

在某些情况下，进程可能没有与之关联的控制终端。这些进程通常是以守护进程（daemon）的形式运行，它们在后台执行，并且不与用户进行交互。守护进程通常用于执行系统任务、服务或后台进程。

当我们使用`ps`命令查看进程时，可以选择是否包含没有控制终端的进程。如果我们使用`ps -aux`或`ps -au`命令，它们将显示所有进程的详细信息，包括没有控制终端的进程。

因此，"没有控制终端的进程"指的是那些在后台运行，没有与之关联的控制终端的进程。这些进程通常是守护进程或后台任务



----

### VSS 

在Linux中，ps命令可用于显示系统上运行的进程的信息。与内存使用相关的两个重要字段是 RSS（驻留集大小）和 VSZ（虚拟内存大小）。

RSS（驻留集大小 resident set size）：RSS 表示物理 RAM 中保存的进程内存部分。它指示进程在给定时间实际使用的内存量。 RSS 值以千字节 (KB) 或兆字节 (MB) 为单位。

VSZ（虚拟内存大小 virtual memory size）：VSZ 表示为进程分配的总虚拟内存。它包括物理 RAM 中的内存和换出到磁盘的内存。 VSZ 值以千字节 (KB) 或兆字节 (MB) 为单位。

RSS 值更准确地表示进程的实际内存使用情况，因为它仅包括当前 RAM 中的内存。另一方面，VSZ 值包括分配给进程的所有内存，**无论它当前是在 RAM 中还是换出到磁盘。**



---

````c
  -a     Write information for all processes associated with terminals. Implementations may omit session leaders from this list.

       -A     Write information for all processes.

       -d     Write information for all processes, except session leaders.

       -e     Write information for all processes.  (Equivalent to -A.)
       -u     user 设置用户//   ps -au  指定用户；
        
````

---

ps -aux  

ps -ef 

ps -elf





---

ps -a显示当前终端相关的所有进程；当前用户下，会省略他的leader session（bash 领导会话！！）；也就是当前的shell（当前的bash）

ps -e **显示所有的进程**；包括，所有的用户，包括无控制终端的命令；包括session leader

ps -u 指定用户的所有进程；

ps -f 显示pid 和ppid 以树关系的方式来显示！！！

ps -x 就是显示没有控制终端的进程  一般tty 是？ 的进程；

ps -aux 就是显示所有的进程；包括 所有的用户和无终端进程！！！

ps -ef和 ps-aux 两种显示格式把；显示的信息是不一样的，你可以根据自己需要什么信息来查询那个命令！！！

ps -eLf  显示线程，和线程之间的关系！！！

---

###tty telettypewriter 终端‘

在Linux中，`tty`是一个特殊的设备文件，用于与终端进行交互。当一个进程与终端相关联时，它会被分配一个`tty`设备作为其标准输入（stdin）、标准输出（stdout）和标准错误（stderr）。

当你在`ps`命令的输出中看到一个进程的TTY字段显示为`?`时，它表示该进程没有与任何终端相关联。这通常发生在守护进程或后台进程中，它们不需要与用户进行交互，因此没有终端分配给它们。

守护进程是在后台运行的进程，通常在系统启动时启动，并在整个系统运行期间持续运行。它们通常不与终端交互，而是在后台执行某些系统任务或服务。

**所以，当你在`ps`命令的输出中看到TTY字段为`?`时，并不一定意味着该进程是守护进程，但它可能是一个后台进程或与终端无关的进程。**
