# 闭包



- 闭包可以保存外部函数内的变量，不会随着外部函数调用完而销毁

**注意：**

- 由于闭包引用了外部函数的变量，则外部函数的变量就没有及时释放，会消耗内存

----



https://blog.csdn.net/weixin_43586120/article/details/89456183?spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-89456183-blog-125225998.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-89456183-blog-125225998.pc_relevant_3mothn_strategy_recovery&utm_relevant_index=1

----



1、概念
闭包函数：声明在一个函数中的函数，叫做闭包函数。

闭包：内部函数总是可以访问其所在的外部函数中声明的参数和变量，即使在其外部函数被返回（寿命终结）了之后。

2、特点
  让外部访问函数内部变量成为可能；

  局部变量会常驻在内存中；

  可以避免使用全局变量，防止全局变量污染；

  会造成内存泄漏（有一块内存空间被长期占用，而不被释放）



3、闭包的创建：­­­

闭包就是可以创建一个独立的环境，每个闭包里面的环境都是独立的，互不干扰。闭包会发生内存泄漏，每次外部函数执行的时 候，外部函数的引用地址不同，都会重新创建一个新的地址。但凡是当前活动对象中有被内部子集引用的数据，那么这个时候，这个数据不删除，保留一根指针给内部活动对象。

闭包内存泄漏为： key = value，key 被删除了 value 常驻内存中; 局部变量闭包升级版（中间引用的变量） => 自由变量；

 

上面的都是什么鬼，是人话么，能看懂早就看懂了，生气······

不过，答应我，看完例子再回看上面的概念，会理解的更！透！彻！

---------------------------------------------我是容易看懂的分界线-----------------------------------------------
————————————————

版权声明：本文为CSDN博主「羊二哥」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/weixin_43586120/article/details/89456183