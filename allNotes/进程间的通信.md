进程间的通信

>消息队列，共享内存，socket,管道，信号量，信号；

**消息队列** FIFO

内核创建的消息队列,多个进程可以往里面发送消息，也可以接受消息；

**共享内存** 

两个进程的虚拟内存通过页面映射到相同的物理内存，那么两个进程就可以通过这个物理内存（共享内存）进行进程间的通信；

**socket** （不同的主机网络通信，tcp套接字）

这个超级多，比如连接一个数据库，都是socket的TCP连接，进程间的socket通信，注意：当你访问本机的时候走的是mysql.sock，unix的内核；

**管道**  ls | grep test.txt

管道就是一个进程的标准输出连接另外一个进程的标准输入，来实现进程之间的通信；

````shell
ls -al /proc/6/df/  
0                 # stdin 标准输入
1				  # stdout 标准输出
2                 # stderr  标准错误输出
````

**信号** SIGNAL

`````shell
# 64种死法；
root@29492d19b58c:/proc/6/fd# kill -l
 1) SIGHUP       2) SIGINT       3) SIGQUIT      4) SIGILL       5) SIGTRAP
 6) SIGABRT      7) SIGBUS       8) SIGFPE       9) SIGKILL     10) SIGUSR1
11) SIGSEGV     12) SIGUSR2     13) SIGPIPE     14) SIGALRM     15) SIGTERM
16) SIGSTKFLT   17) SIGCHLD     18) SIGCONT     19) SIGSTOP     20) SIGTSTP
21) SIGTTIN     22) SIGTTOU     23) SIGURG      24) SIGXCPU     25) SIGXFSZ
26) SIGVTALRM   27) SIGPROF     28) SIGWINCH    29) SIGIO       30) SIGPWR
31) SIGSYS      34) SIGRTMIN    35) SIGRTMIN+1  36) SIGRTMIN+2  37) SIGRTMIN+3
38) SIGRTMIN+4  39) SIGRTMIN+5  40) SIGRTMIN+6  41) SIGRTMIN+7  42) SIGRTMIN+8
43) SIGRTMIN+9  44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12 47) SIGRTMIN+13
48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14 51) SIGRTMAX-13 52) SIGRTMAX-12
53) SIGRTMAX-11 54) SIGRTMAX-10 55) SIGRTMAX-9  56) SIGRTMAX-8  57) SIGRTMAX-7
58) SIGRTMAX-6  59) SIGRTMAX-5  60) SIGRTMAX-4  61) SIGRTMAX-3  62) SIGRTMAX-2
63) SIGRTMAX-1  64) SIGRTMAX
`````

1. SIGINT与SIGTERM区别
   1）SIGINT关联ctrl+c
   2）SIGINT只能结束前台进程
   3）通过ctrl+c对当前进程发送结束信号，信号被进程树接收到（即：不仅当前进程，子进程也会收到结束信号）

2. SIGTERM与SIGKILL
   1）SIGTERM可以被阻塞、处理和忽略；因此有的进程不能按预期的结束
   2）kill不使用参数：发送SIGTERM信号，只有当前进程收到信号，若当前进程被kill，则子进程的父进程就会更改为init，即pid为1
   3）kill命令的默认不带参数发生的信号就是SIGTERM，让程序友好的退出 ，当程序未退出时，可以使用kill -9强制退出

3. terminal 终端  terminate 结束终结
   kill -l 列出所有信号  大多数信号都是将进程杀死，所以叫kill

   常见。

   1）ctrl + c  SIGINT    【 2】.      可以捕获该信号

   2）kill  pid  (ps aux|grep ).  SIGTREM  【15】

   3）kill -9 pid               【9】       不可捕获 强制杀死

**信号量**

类似于一个计数器，控制多个进程对共享资源的访问，这个资源最多可以被多少个进程访问,起到一个控制数量，锁的机制；