## CAP 理念



---



C：consistency 一致性；

A:  availability 可用性；

P:  spartition tolerance 分区容忍性；

---



C：数据的一致性；就是mysql 和cache的数据的一致性；

* 强一致性；只能通过分布式锁来实现；但是并发性能会比较低；
* 最终一致性： 一般代表的是分布式系统，下订单返回成功，减库存通过kafka来实现；但是最终都能保证创建订单和减库存的数据一致性；

A： 可以看成客户端可以在规定的时间内得到自己的预期结果；

P：代表的是分布式系统中，一个节点出问题，整个系统还能正常的运行和工作，依然保证前面的可用性和数据一致性；**强调的是分布式系统，当出现问题的时候整个系统还能正常的运行和工作；**



-----

分布式系统必须满足 P 也就是分区容忍性；

>**一般只有cp 和ap；**  **不会存在ac 的，必须要保证分布式系统的分区容忍性！！！**

 AP ： 可用性和分区容忍性；一般都会使用消息队列，来做异步处理；**用户体验比较好，rt响应时间会很短；**

CP ： 一致性和分区容忍性；一般代表的是分布式锁；数据的强一致性，一般银行比较多；必须保证强一致性；

AC ： 就是代表业务逻辑都在一个事务里面，mysql的事务里面；来保证数据的强一致性；



---

ACID  

mysql的一致性，

比较官方的说法，我还认为一致性;

*一致性是指事务使得系统从一个一致的状态转换到另一个一致状态*。