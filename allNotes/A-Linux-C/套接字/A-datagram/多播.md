# 多播

>多点通讯！！！
>
>**只有报式才能进行多点通讯！！**
>
>广播（全网广播，子网广播）和多播/组播；
>
>udp的头是8个字节；

---

## 函数

>设置选项！！！
>
>setsockopt();
>
>getsockopt();

`````c
//func
NAME
//       getsockopt, setsockopt - get and set options on sockets
                                                                        sssssssssssss
SYNOPSIS
       #include <sys/types.h>          /* See NOTES */
       #include <sys/socket.h>

       int getsockopt(int sockfd, int level, int optname,
                      void *optval, socklen_t *optlen);
       int setsockopt(int sockfd, int level, int optname,
                      const void *optval, socklen_t optlen);
// man 7 socket
// 然后在文档里面搜socket option 来搜 socket的选项！！！
// 然后通过setsockopt();去修改！！！
  Socket options
       The  socket  options  listed below can be set by using setsock-  
       opt(2) and read with getsockopt(2) with the socket level set to  
       SOL_SOCKET  for all sockets.  Unless otherwise noted, optval is  
       a pointer to an int.

`````



----

 ## 广播  broadcast  

>你愿不愿意接收，都要接收！！！
>
>以前的广播设备就是集线器！！1

`````c
//code
//
`````





## 多播 muticast  

>不是发给我的，我不接收！
>
>交换机来做多播！！
>
>**snder方来创建多播组； 来进行组间的消息**
>
>**rcver方来加入多播组！**
>
>**224.0.0.1向这个地址发送消息，相当于向组内所有的人发送消息！！！**

`````c
//code
`````





# 辅助知识



## 集线器

>集线器；

1、从OSI体系结构来看，[集线器](https://zhidao.baidu.com/search?word=%BC%AF%CF%DF%C6%F7&fr=iknow_pc_qb_highlight)属于OSI的第一层[物理层](https://zhidao.baidu.com/search?word=%CE%EF%C0%ED%B2%E3&fr=iknow_pc_qb_highlight)设备，而交换机属于OSI的第二层[数据链路层](https://zhidao.baidu.com/search?word=%CA%FD%BE%DD%C1%B4%C2%B7%B2%E3&fr=iknow_pc_qb_highlight)设备。

2、从工作方式来看，集线器是一种广播模式，也就是说集线器的某个端口工作的时候其他所有端口都有名收听到信息，容易产生[广播风暴](https://zhidao.baidu.com/search?word=%B9%E3%B2%A5%B7%E7%B1%A9&fr=iknow_pc_qb_highlight)。当网络较大的时候网络性能会受到很大的影响，那么用什么方法避免这种现象的发生呢？交换机就能够起到这种作用，当交换相工作的时候只有发出请求的端口和目的端口之间相互响应而不影响其他端口，那么交换机就能够隔离冲突域和有效地抑制广播风暴的产生。

3、**从带宽来看，集线器不管有多少个端口，所有端口都共享一条带宽，在同一时刻只能有两个端口传送数据，其他端口只能等待；同时集线器只能工作在半双工模式下。而对于交换机而言，每个端口都有一条独占的带宽，当两个端口工作时并不影响其他端口的工作，同时交换机不但可以工作在半双工模式下也可以工作在全双工模式下。**





## udp头部



![这里写图片描述](./%E5%A4%9A%E6%92%AD.assets/70.png)