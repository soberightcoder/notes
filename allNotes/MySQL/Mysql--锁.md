# Mysql--锁



按照属性：

1. 共享锁（读锁）： 读取数据的时候可以加读锁，但是其他的事务也可以加写锁；
2. 排他锁（写锁）：只有这个事务对其进行读写，就是一个悲观锁；





按照粒度分析：
表锁：                      特点：粒度大，简单，容易冲突，并发量小；





行锁：    特点，粒度小，加锁比较麻烦，不容易冲突，支持的并发度比较高；





间隙锁（gap lock）： 锁住的是某一个区间，主要是为了解决幻读的问题；左开右闭；







索引中的数据顺序和查找中的排列顺序一致；

索引中的列包含了查询中需要的全部列；





----

## 查看表锁情况的sql语句！！！



---



select * from performance_schema.data_locks;

lockd _mode 锁的类型； IX 应该是意向锁；

X，（排他锁）REC_NOT_GAP 的意思就是行锁的意思；

locked_data 锁住数据；

lock_type 锁的类型！！

index_name 索引的名字，因为锁通过锁索引来实现的！！

![image-20231205044557231](./Mysql--%E9%94%81.assets/image-20231205044557231.png)



