#  更改 Linux 系统语言环境变量





---



##引言

在腾讯云一台云主机上编写 Python 脚本时发现乱码，猜测便是字符编码的问题。 `echo $LANG`，果然输出 `C`。下面我查找了相关资料深入重新学习了下系统语言环境变量 LANG 及 locale 相关知识。



## `LC_ALL=C` 含义

**`LC_ALL=C` 是为了去除所有本地化的设置，让命令能正确执行。**

C 是系统默认的 locale，”POSIX”是”C”的别名。所以当我们新安装完一个系统时，默认的 locale 就是 C 或 POSIX。

| locale | 英[ləʊˈkɑːl]          | 美[loʊˈkæl] |
| ------ | --------------------- | ----------- |
| n.     | 场所; 现场; 发生地点; |             |



## 更改系统语言环境变量

locale 命令可以查看当前系统语言环境相关的设置。

**LANG 变量的值是 `LC_*`的默认值，是最低级别的设置，如果`LC_*` 没有设置，则使用该值。类似于 LC_ALL。 LC_ALL 它是一个宏，如果该值设置了，则该值会覆盖所有`LC_*`的设置值。注意，LANG 的值不受该宏影响。**

一般生产环境服务都是使用 `LANG="en_US.utf8"`，那么如何永久修改呢？
**这个配置在 CentOS 6.X 系列操作系统中是在 `/etc/sysconfig/i18n` 配置文件中，我们只要修改这个文件 LANG 变量即可。**
**然后我们使用 locale 命令查看是否修改成功。**



```shell
[root@VM_15_187_centos ]# locale 
LANG=en_US.utf8
LC_CTYPE="en_US.utf8"
LC_NUMERIC="en_US.utf8"
LC_TIME="en_US.utf8"
LC_COLLATE="en_US.utf8"
LC_MONETARY="en_US.utf8"
LC_MESSAGES="en_US.utf8"
LC_PAPER="en_US.utf8"
LC_NAME="en_US.utf8"
LC_ADDRESS="en_US.utf8"
LC_TELEPHONE="en_US.utf8"
LC_MEASUREMENT="en_US.utf8"
LC_IDENTIFICATION="en_US.utf8"
LC_ALL=
# 设置汉语；``
export LANG="zh_CN.UTF-8"
export LC_ALL="zh_CN.UTF-8"
```

---





Linux系统环境变量包括PATH、LD_LIBRARY_PATH等，可以通过echo $PATH、echo $LD_LIBRARY_PATH等命令查看系统当前的环境变量

其中PATH是系统可执行程序的查找路径，LD_LIBRARY_PATH是系统动态库的查找路径

修改PATH环境变量(以配置golang环境变量为例),四种方法

1.终端窗口输入export PATH=$PATH:/usr/local/go/bin

生效方法：立即生效

有效期限：临时改变，只能在当前的终端窗口中有效，当前窗口关闭后就会恢复原有的path配置

用户局限：仅对当前用户



2.通过修改用户目录下的.bashrc文件

vi ~/.bashrc

\#在最后一行添上：

export PATH=$PATH:/usr/local/go/bin

生效方法：(有以下两种)

1.关闭当前终端窗口，重新打开一个新终端窗口就能生效



**2.输入“source ~/.bashrc”命令，立即生效**

有效期限：永久有效

用户局限：仅对当前用户



3.通过修改系统级别的profile文件:

vi /etc/profile

/export PATH

\#找到设置PATH的行，添加

export PATH=$PATH:/usr/local/go/bin

生效方法：系统重启

有效期限：永久有效

用户局限：对所有用户

---





-bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8）



https://blog.csdn.net/qq_41008154/article/details/118854947



---



*宏*（英语：Macro）是一种批量处理的称谓。计算机科学里的*宏*是一种抽象（Abstraction），它根据一系列预定义的规则替换一定的文本模式。**解释器或编译器在遇到*宏*时会自动进行这一模式替换。**

----



| profile | 英[ˈprəʊfaɪl]                                         | 美[ˈproʊfaɪl] |
| ------- | ----------------------------------------------------- | ------------- |
| n.      | 轮廓; 简介; 面部的侧影; 概述; 传略; 印象; 形象; 外形; |               |
| vt      | 扼要介绍; 概述; 写简介;                               |               |





