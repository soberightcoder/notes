# 性能优化



### 1.  多进程和多线程  并发编程各自的优势和劣势？

>切换，无论进程或者线程都发生在内核态； 
>
> 一般开始一个线程会开启64M的内存；（堆栈内存）

* 切换成本不一样；  地址空间；
* 安全性；当一个进程挂掉了，并不会影响到其他的进程（每一个进程都会有自己独立的地址空间；）；一个线程挂掉之后，那么就会 导致整个进程的线程挂掉（）；
* 进程通信比较困难，多进程通信需要socket，多线程只需要共享内存来实现；



### 2. 协程 为什么能够实现更高的并发？

>切换发生再用户态；

* 需要资源更小；十几kB；
* 切换速度比较快；上下文切换的成本比较小；
* 异步无阻塞的；

### 3.文件描述符；fd；

文件描述符（File descriptor）是计算机科学中的一个术语，是一个用于表述指向文件的引用的抽象化概念。

<font color=red>**linux中的一切资源都可以通过文件的方式访问和管理；**</font>

**FD 就是文件的索引和符号，指向某一个资源，内核就是通过FD来访问和管理资源；**

文件描述符在形式上是一个非负整数。**实际上，它是一个索引值，指向内核为每一个进程所维护的该进程打开文件的记录表。当程序打开一个现有文件或者创建一个新文件时，内核向进程返回一个文件描述符。**  **当我们去操作这些文件的时候直接通过文件描述符来操作；**在程序设计中，一些涉及底层的程序编写往往会围绕着文件描述符展开。但是文件描述符这一概念往往只适用于UNIX、Linux这样的操作系统。

### 4. 文件描述符

